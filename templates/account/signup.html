{% extends "frontend/base.html" %}
{% load static %}
{% block css %}
<style>
    #nav {
        display: none;
color: #E6AF2E;

        /* Hide the menu */
    }

    .sticky .navbar {
        padding: 10px;
    }
    
</style>
{%endblock%}
{% load i18n %}


{% block content %}

<!-- ====== Banner Start ====== -->
<section class="ud-page-banner" style="background-color:#012622;">
        <div class="container" >
        <div class="row">
            <div class="col-lg-12">
                <div class="ud-banner-content">
                    <h1 style="color: #E6AF2E;">
                        दर्ता गर्नुहोस्
                    </h1>
                </div>
            </div>
        </div>
    </div>
</section>
<!-- ====== Banner End ====== -->

<!-- ====== Login Start ====== -->
<section class="ud-login">
    <div class="container">
        <div class="row">
            <div class="col-lg-12">
                <div class="ud-login-wrapper" style="max-width: 50em;">
                    <div class="ud-login-logo">
                        <img src="{% static 'frontend/assets/images/logo/logo-transp.png' %}" alt="logo" 
                        style="width: 10em; margin-top: -70px;" />

                    </div>

                    {% if messages %}
                        {% for message in messages %}
                            <div class="alert alert-dismissible {% if message.tags %}alert-{{ message.tags }}{% endif %}">
                                {{ message }}
                                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                            </div>
                        {% endfor %}
                    {% endif %}

                    <form class="ud-login-form" id="signup_form" method="post" action="{% url 'account_signup' %}">
                        {% csrf_token %}
                        <div id="userRegistration" >
                            <hr>
                            <p>
                                Personal Information
                            </p>&nbsp;
                            <div class="ud-form-group">
                                <div class="row">
                                    <div class="col-md-12">
                                        <div class="ud-form-group">
                                            <input type="text" name="{{ form.first_name.name }}"
                                                placeholder="First Name*"
                                                value="{{ form.first_name.value|default_if_none:'' }}" />
                                        </div>
                                        {% if form.first_name.errors %}
                                        <div class="alert alert-warning">{{ form.first_name.errors }}</div>
                                        {% endif %}
                                    </div>
                                </div>


                                <div class="row">
                                    <div class="col-md-12">
                                        <div class="ud-form-group">
                                            <input type="text" name="{{ form.last_name.name }}" placeholder="Last Name*"
                                                value="{{ form.last_name.value|default_if_none:'' }}" />
                                        </div>
                                        {% if form.last_name.errors %}
                                        <div class="alert alert-warning">{{ form.last_name.errors }}</div>
                                        {% endif %}
                                    </div>
                                </div>
                            </div>
                            <div class="ud-form-group">
                                <div class="row">
                                    <div class="col-md-12">
                                        <div class="ud-form-group">
                                            <input type="email" name="{{ form.email.name }}" placeholder="Email*"
                                                value="{{ form.email.value|default_if_none:'' }}" />
                                        </div>
                                        {% if form.email.errors %}
                                        <div class="alert alert-warning">{{ form.email.errors }}</div>
                                        {% endif %}
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-12">
                                        <div class="ud-form-group">
                                            <input type="number" name="{{ form.phone_number1.name }}"
                                                placeholder="Phone*"
                                                value="{{ form.phone_number1.value|default_if_none:'' }}" />
                                        </div>
                                        {% if form.phone_number1.errors %}
                                        <div class="alert alert-warning">{{ form.phone_number1.errors }}</div>
                                        {% endif %}
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-12">
                                        <div class="ud-form-group">
                                            <input type="text" name="{{ form.address.name }}" placeholder="Address"
                                                value="{{ form.address.value|default_if_none:'' }}" />
                                        </div>
                                        {% if form.address.errors %}
                                        <div class="alert alert-warning">{{ form.address.errors }}</div>
                                        {% endif %}
                                    </div>
                                </div>
                            </div>
                            <div class="ud-form-group">
                                <div class="row">
                                    <div class="col-md-12">
                                        <div class="ud-form-group">
                                            <input type="text" name="{{ form.username.name }}" placeholder="Username*"
                                                value="{{ form.username.value|default_if_none:'' }}" />
                                        </div>
                                        {% if form.username.errors %}
                                        <div class="alert alert-warning">{{ form.username.errors }}</div>
                                        {% endif %}
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-12">
                                        <div class="ud-form-group" style="position: relative;">
                                            <input id="password1" type="password" name="{{ form.password1.name }}"
                                                placeholder="*** (Password)" style="padding-right: 30px;" />
                                            <i class="fas fa-eye toggle-password"
                                                onclick="togglePasswordVisibility('password1')"
                                                style="position: absolute; right: 10px; top: 50%; transform: translateY(-50%);"></i>
                                        </div>
                                        {% if form.password1.errors %}
                                        <div class="alert alert-warning">{{ form.password1.errors }}</div>
                                        {% endif %}
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-12">
                                        <div class="ud-form-group" style="position: relative;">
                                            <input id="password2" type="password" name="{{ form.password2.name }}"
                                                placeholder="*** (Confirm Password)" />
                                            <i class="fas fa-eye toggle-password"
                                                onclick="togglePasswordVisibility('password2')"
                                                style="position: absolute; right: 10px; top: 50%; transform: translateY(-50%);"></i>
                                        </div>
                                        {% if form.password2.errors %}
                                        <div class="alert alert-warning">{{ form.password2.errors }}</div>
                                        {% endif %}
                                    </div>
                                </div>
                            </div>

                        </div>

                        <div class="ud-form-group">
                            <button type="submit" class="ud-main-btn w-100">Sign Up</button>
                        </div>
                    </form>

                    {% comment %} <div class="ud-socials-connect">
                        <p>Connect With</p>

                        <ul>
                            <li>
                                <a href="{% provider_login_url "facebook" %}" class="facebook">
                                    <i class="lni lni-facebook-filled"></i>
                                </a>
                            </li>
                            <li>
                                <a href="{% provider_login_url 'google' %}" class="google">
                                    <i class="lni lni-google"></i>
                                </a>
                            </li>
                        </ul>
                    </div> {% endcomment %}

                    <!-- <a class="forget-pass" href="javascript:void(0)">
                Forget Password?
              </a> -->
                    <p class="signup-option">
                        Already a member? <a href="{% url 'account_login' %}"> Login </a>
                    </p>
                </div>
            </div>
        </div>
    </div>
</section>
<!-- ====== Login End ====== -->

<script src="{% static 'frontend/assets/js/bootstrap.bundle.min.js' %}"></script>
<script src="{% static 'frontend/assets/js/wow.min.js' %}"></script>
<script src="{% static 'frontend/assets/js/main.js' %}"></script>
<script>
    //Fucntion to toogle password visibility
    function togglePasswordVisibility(inputId) {
        console.log("GOT HERE")
        const input = document.getElementById(inputId);
        const icon = input.nextElementSibling;

        if (input.type === "password") {
            input.type = "text";
            icon.classList.remove('fa-eye');
            icon.classList.add('fa-eye-slash');
        } else {
            input.type = "password";
            icon.classList.remove('fa-eye-slash');
            icon.classList.add('fa-eye');
        }
    }
</script>

{% endblock content %}
